import{r as t,u as b,a as j,j as e}from"./index-CbDMZEJu.js";const N={ADMIN:"/dashboard",OPERATOR:"/operacion",VISUALIZADOR:"/dashboard"};function v(){const[i,u]=t.useState(""),[l,h]=t.useState(""),[n,c]=t.useState(""),[o,d]=t.useState(!1),{signIn:p,session:m,user:a,loading:r}=b(),x=j();t.useEffect(()=>{if(!r&&m&&a){const s=N[a.role]??"/dashboard";x(s,{replace:!0})}},[m,a,r,x]);const g=async s=>{s.preventDefault(),c(""),d(!0);try{await p(i,l)}catch(f){c(f.message||"Error al iniciar sesión"),d(!1)}};return r?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-cyan-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"ri-loader-4-line text-5xl text-teal-600 animate-spin"}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Verificando sesión..."})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-teal-50 to-cyan-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-teal-600 rounded-2xl mb-4",children:e.jsx("i",{className:"ri-truck-line text-3xl text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Crossdocking Almacén"}),e.jsx("p",{className:"text-gray-600",children:"Ingresa tus credenciales para continuar"})]}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electrónico"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("i",{className:"ri-mail-line text-gray-400"})}),e.jsx("input",{id:"email",type:"email",value:i,onChange:s=>u(s.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm",placeholder:"tu@email.com",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("i",{className:"ri-lock-line text-gray-400"})}),e.jsx("input",{id:"password",type:"password",value:l,onChange:s=>h(s.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent text-sm",placeholder:"••••••••",required:!0})]})]}),n&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3",children:[e.jsx("i",{className:"ri-error-warning-line text-red-600 text-xl flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-red-800",children:"Error de autenticación"}),e.jsx("p",{className:"text-sm text-red-600 mt-1",children:n})]})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full bg-teal-600 hover:bg-teal-700 text-white font-medium py-3 px-4 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 whitespace-nowrap cursor-pointer",children:o?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-loader-4-line animate-spin"}),"Iniciando sesión..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"ri-login-box-line"}),"Iniciar sesión"]})})]}),e.jsxs("div",{className:"mt-6 text-center text-sm text-gray-600",children:[e.jsx("p",{children:"¿Problemas para acceder?"}),e.jsx("p",{className:"mt-1",children:"Contacta al administrador del sistema"})]})]})})}export{v as default};
//# sourceMappingURL=page-DDcrFJ5n.js.map
